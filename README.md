# go-site-benchmark

## Task

Реализовать микросервис на Golang, который позволяет понять во сколько потоков можно парсить определенный сайт без
ошибок (нагрузочное тестирование).

Сервису на вход приходит поисковая строка, например “playstation купить”. Из поисковой выдачи Яндекса (код парсер
предоставлен) получаем список урлов. Далее для каждого уникального хоста нужно провести небольшой бенчмарк -- сколько
параллельных запросов с одного IP этот сайт выдерживает без ошибок. Допустимое время ответа сайта - от 3 до 5 секунд.
Ответом на исходный GET должна быть мапа “хост” => “рекомендуемое количество одновременных потоков”.

Обязательные моменты, которые должны быть реализованы:

* сервис должен быть обернут в docker
* взаимодействие через один эндпоинт GET /sites?search=foobar
* с непрогретым кэшом сервис должен отвечать не дольше 30 сек.
* настройка параметров через конфиг

## Notes

Все настроено на 8090 порты.

Смотреть в браузере по адресу:

[http://localhost:8090/sites?search=](http://localhost:8090/sites?search=)

## Build docker image

```bash
make build
```

## Run docker container

```bash
make run
```

## Show docker container logs

```bash
make logs
```

## Stop docker container

```bash
make stop
```

## Start tests

```bash
make test
```

## Start benchmarks

```bash
make benchmark
```
